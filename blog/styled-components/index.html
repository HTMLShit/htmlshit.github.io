<!DOCTYPE html><html lang="ru" data-theme="auto" prefix="og: http://ogp.me/ns#"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="alternate" type="application/rss+xml" title href="https://htmlshit.site/feed.xml">
    









<title>Введение в Styled Components - @htmlshit</title>
<link rel="canonical" href="https://htmlshit.site/blog/styled-components/">

<meta property="og:site_name" content="@htmlshit">
<meta property="og:title" content="Введение в Styled Components - @htmlshit">
<meta property="og:type" content="website">
<meta property="og:url" content="https://htmlshit.site/blog/styled-components/">
<meta property="twitter:url" content="https://htmlshit.site/blog/styled-components/">
<meta property="twitter:site" content="@htmlshit">
<meta property="article:published_time" content="2021-03-20">


  <meta name="twitter:creator" content="@bekharsky">


<meta name="description" content="Будни верстальщика: канал о вёрстке, фронтенде и веб-разработке вообще">
<meta name="twitter:description" content="Будни верстальщика: канал о вёрстке, фронтенде и веб-разработке вообще">
<meta property="og:description" content="Будни верстальщика: канал о вёрстке, фронтенде и веб-разработке вообще">


  <meta property="og:image" content="https://htmlshit.site/cover.jpg">
  <meta name="twitter:image" content="https://htmlshit.site/cover.jpg">


    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/modern-normalize@1/modern-normalize.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@native-elements/core@1/native-elements.css">
    
  
    <link rel="preload" as="style" href="/static/css/prism-okaidia.css">
    <link rel="stylesheet" href="/static/css/prism-okaidia.css">
  

    <link rel="stylesheet" href="/static/css/theme.css">
    <link rel="stylesheet" href="/static/css/app.css">
    <script src="https://cdn.jsdelivr.net/npm/what-input@5.2.6/dist/what-input.min.js" defer></script>
    <script type="module" src="/static/js/app.js" defer></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8JLHG82H4Z"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-8JLHG82H4Z');
    </script>
  <link rel="modulepreload" href="/static/js/app.js"></head>
  <body>
    
  <main tabindex="-1">
    <header>
  
    <nav>
      
        
          
          

          
          
          <a href="/">
            <b>О проекте</b>
          </a>
        
      
        
          
          

          
          
          <a href="/blog/">
            <b>Блог</b>
          </a>
        
      
        
      
        
      
    </nav>
  
  <select name="themeSwitcher" id="themeSwitcher" value="auto">
  <option value="auto">авто</option>
  <option value="light">день</option>
  <option value="dark">ночь</option>
</select>

</header>


    
      <small><time datetime="2021-03-20T00:00:00.000Z">20 Марта 2021</time></small>
    

    <h1>Введение в Styled Components</h1>

    <article ne-prose>
      <p>Итак, <a href="https://www.styled-components.com/" rel="noopener noreferrer">Styled Components</a>. Буквально – стилизованные компоненты. Собственно, в этом вся суть и статью можно завершать.</p>
<p>Шучу. Продолжаем.</p>
<h2 id="tldr">TL;DR<a href="#tldr" class="permalink">#</a></h2>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> sharedText <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  color: white;<br>  margin: 1rem;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Title <span class="token operator">=</span> styled<span class="token punctuation">.</span>h1<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sharedText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;<br>  font-size: 2rem;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Text <span class="token operator">=</span> styled<span class="token punctuation">.</span>p<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sharedText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;<br>  font-size: 1rem;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> TextBase <span class="token operator">=</span> styled<span class="token punctuation">.</span>p<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  font-size: 1rem;<br>  text-align: center;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> BlueText <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>TextBase<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  color: blue;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> PinkText <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>TextBase<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  color: pink;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Container <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  margin: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isLarge <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>isLarge <span class="token operator">?</span> <span class="token string">'5rem'</span> <span class="token operator">:</span> <span class="token string">'1rem'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> TextBase <span class="token operator">=</span> styled<span class="token punctuation">.</span>p<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  font-size: 1rem;<br>  text-align: center;<br>  color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> props<span class="token punctuation">.</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">Container</span></span> <span class="token attr-name">isLarge</span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">TextBase</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#0000FF<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">I'm Blue</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">TextBase</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">TextBase</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pink<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">I'm Pink</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">TextBase</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">Container</span></span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="poehali">Поехали<a href="#poehali" class="permalink">#</a></h2>
<p>Давайте напишем простенький React-компонент, для упрощения процесса я буду использовать SCSS (<em>ведь его все любят</em>):</p>
<div class="code-wrapper"><pre class="language-scss"><code class="language-scss"><span class="token selector">.hello </span><span class="token punctuation">{</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span><br>  <span class="token property">background-color</span><span class="token punctuation">:</span> cyan<span class="token punctuation">;</span><br><br>  <span class="token selector"><span class="token parent important">&</span>:hover </span><span class="token punctuation">{</span><br>    <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></div>
<p>И JSX:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">HelloClassNameComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Hello Class Name!</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></div>
<p>Теперь то же самое, но при помощи Styled Components:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Div <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  color: white;<br>  background-color: red;<br><br>  &:hover {<br>    background-color: black;<br>  }<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">HelloStyledComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">Div</span></span><span class="token punctuation">></span></span><span class="token plain-text">Hello Styled!</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">Div</span></span><span class="token punctuation">></span></span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></div>
<p><small>Сразу видна проблема с подсветкой кода, но это уже по моей вине: я пока не очень разобрался с настройками <a href="https://prismjs.com/" rel="noopener noreferrer">Prism</a> в <a href="https://www.11ty.dev/" rel="noopener noreferrer">Eleventy</a>. Просто имейте это в виду.</small></p>
<p>Выглядит весьма похоже. Используя свежие фишки JavaScript под названием <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/template_strings" rel="noopener noreferrer">шаблонные строки</a> и <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/template_strings#%D1%82%D0%B5%D0%B3%D0%BE%D0%B2%D1%8B%D0%B5_%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D1%8B" rel="noopener noreferrer">теговые шаблоны</a> Styled Components буквально позволяет писать привычный CSS прямо в JS-модулях и таким образом теперь ваш компонент целиком и полностью отвечает не только за свою структуру и визуальную логику, но и за внешнее оформление тоже.</p>
<p>И привычный и такой любимый родительский селектор (&, амперсанд) имеется.</p>
<h3 id="pesochnica">Песочница<a href="#pesochnica" class="permalink">#</a></h3>
<p>Установка и настройка Styled Components будет описана в следующей статье цикла, поскольку нюансов и фишек слишком много. Здесь я познакомлю вас с синтаксисом и основными приёмами работы. Чтобы было проще стартовать, я подготовил песочницу на <a href="https://codepen.io/alinaki/pen/wvoVVBg" rel="noopener noreferrer">CodePen</a>, в рамках которой можно просто запускать код из статьи. Да, я ленивый: остальные примеры будут даны просто текстом.</p>
<p data-height="256" data-theme-id="dark" data-slug-hash="wvoVVBg" data-default-tab="result" data-user="Captain Anonymous" data-embed-version="2" data-pen-title="Unknown Pen" data-preview="true" data-editable="false" class="codepen" style="height: 256px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">See the Pen <a href="https://codepen.io/Captain Anonymous/pen/wvoVVBg/" rel="noopener noreferrer">Unknown Pen</a> on <a href="https://codepen.io" rel="noopener noreferrer">CodePen</a>.</p>
<h3 id="prokidyvaem-props'y">Прокидываем props'ы<a href="#prokidyvaem-props'y" class="permalink">#</a></h3>
<p>Продолжаем.</p>
<p>Одного только исчезновения <code>className</code> явно недостаточно чтобы набрать новых сторонников. Усложняем:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Div <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> props<span class="token punctuation">.</span>color <span class="token operator">||</span> <span class="token string">'white'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;<br>  background-color: cyan;<br><br>  &:hover {<br>    background-color: black;<br>  }<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">HelloStyledComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">Div</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Hello Styled!</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">Div</span></span><span class="token punctuation">></span></span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></div>
<p>Что мы сделали? Мы передали цвет текста через свойства компонента (properties, props... <em>пробросили через пропсы</em>, в общем). Ничего не передаём – получаем красный, вот так просто. Теперь можно поступить вот так:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">HelloPropsComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>article</span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token punctuation">{</span>colors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">Div</span></span> <span class="token attr-name">color</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Hello Styled!</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">Div</span></span><span class="token punctuation">></span></span><br>      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span>article</span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></div>
<p>Получим три компонента с разным цветом текста, но одинаковыми остальными свойствами и реакцией на наведение мыши. Чтобы повторить подобное на классическом CSS без привлечения сторонних инструментов, пришлось бы сначала определить классы для разных цветов, а после воспользоваться или библиотекой classnames или склеивать строки названий классов вручную:</p>
<div class="code-wrapper"><pre class="language-scss"><code class="language-scss"><span class="token selector">.hello </span><span class="token punctuation">{</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span><br>  <span class="token property">background-color</span><span class="token punctuation">:</span> cyan<span class="token punctuation">;</span><br><br>  <span class="token selector"><span class="token parent important">&</span>:hover </span><span class="token punctuation">{</span><br>    <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector"><span class="token parent important">&</span>--red </span><span class="token punctuation">{</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector"><span class="token parent important">&</span>--green </span><span class="token punctuation">{</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector"><span class="token parent important">&</span>--blue </span><span class="token punctuation">{</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></div>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">HelloClassComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>article</span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token punctuation">{</span>colors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello hello--</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Hello Class Name!</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span>article</span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></div>
<p>Да, можно попробовать пользовательские свойства CSS (<em>переменные</em>, Custom Properties), будет гораздо гибче. Но при работе «в лоб» всё ещё достаточно неудобно.</p>
<p>Задаём свойство:</p>
<div class="code-wrapper"><pre class="language-scss"><code class="language-scss"><span class="token selector">.hello </span><span class="token punctuation">{</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">background-color</span><span class="token punctuation">:</span> cyan<span class="token punctuation">;</span><br><br>  <span class="token selector"><span class="token parent important">&</span>:hover </span><span class="token punctuation">{</span><br>    <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></div>
<p>И меняем в нужный нам момент:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">HelloVarComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>article</span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token punctuation">{</span>colors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>        <span class="token keyword">const</span> colorStyle <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'--color'</span><span class="token operator">:</span> color <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>        <span class="token keyword">return</span> <span class="token punctuation">(</span><br>          <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>colorStyle<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>            Hello Custom Properties!<br>          </span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span>div</span><span class="token punctuation">></span></span><br>        <span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span>article</span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></div>
<p>Впрочем, в комбинации со Styled Components пользовательские свойства могут раскрыться в полной мере и дать неограниченный простор для темизации.</p>
<p>Чтобы не навлечь на себя гнев апологетов CSS-подхода я сразу должен отметить: написанный вручную CSS изначально является более эффективным. Styled Components (и Emotion, например) не умеют объединять похожие классы самостоятельно. Т. е. на каждый <code>div</code> будет сгенерирован свой класс, с одинаковым фоном и <code>:hover</code>-ом. Кто-то вполне имеет право поморщиться от такого подхода.</p>
<p>Но это автоматизируется и давайте будем честны: в CSS мы всё же создали три разных класса, а в SC – нет. И это можно будет исправить, расскажу чуть далее.</p>
<h3 id="pereispolzovanie-i-css">Переиспользование и css``<a href="#pereispolzovanie-i-css" class="permalink">#</a></h3>
<p>Ладно одно свойство, а если у вас их с десяток? А если вам поддержка темизации нужна? А если это свойство должно полностью преобразить компонент? Разным ситуациям – разный внешний вид по переданному одному лишь параметру. Введём ещё одну функцию, css.</p>
<p>Название говорит само за себя:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> styled<span class="token punctuation">,</span> <span class="token punctuation">{</span> css <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> flexStyles <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  display: flex;<br>  flex-direction: column;<br>  align-items: space-around;<br>  justify-content: center;<br>  color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> color <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> color <span class="token operator">||</span> <span class="token string">'red'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> blockStyles <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  display: block;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Div <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isAlt <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    isAlt <span class="token operator">?</span> blockStyles <span class="token operator">:</span> flexStyles<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"><br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">HelloCssComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">Div</span></span> <span class="token attr-name">isAlt</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>      Hello Styled!<br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">Div</span></span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></div>
<p>Мы получили независимый переиспользуемый блок стилей и вынесли описание представления за пределы минимальной, но всё же логики блока. И таких комбинаций свойств и стилей может быть множество даже в пределах одного элемента. А ещё можно и просто вот так:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> sharedStyles <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  color: white;<br>  margin: 1rem;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Title <span class="token operator">=</span> styled<span class="token punctuation">.</span>h1<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sharedStyles<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;<br>  font-size: 2rem;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Text <span class="token operator">=</span> styled<span class="token punctuation">.</span>p<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sharedStyles<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;<br>  font-size: 1rem;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>
<p>Конструкция, напомню, называется теговым шаблоном. Я писал выше, что библиотека Styled Components на них основана. Сама директива styled – фабрика этих самых теговых шаблонов и это первая подсказка к самой крутой фишке библиотеки.</p>
<h3 id="adaptivnaya-vyorstka-i-media">Адаптивная вёрстка и media``<a href="#adaptivnaya-vyorstka-i-media" class="permalink">#</a></h3>
<p>Как и в SCSS, вы просто описываете все правила непосредственно в описании стилизованного компонента:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token punctuation">{</span><br>  mobileS<span class="token operator">:</span> <span class="token string">'320px'</span><span class="token punctuation">,</span><br>  mobileM<span class="token operator">:</span> <span class="token string">'375px'</span><span class="token punctuation">,</span><br>  mobileL<span class="token operator">:</span> <span class="token string">'425px'</span><span class="token punctuation">,</span><br>  tablet<span class="token operator">:</span> <span class="token string">'768px'</span><span class="token punctuation">,</span><br>  laptop<span class="token operator">:</span> <span class="token string">'1024px'</span><span class="token punctuation">,</span><br>  laptopL<span class="token operator">:</span> <span class="token string">'1440px'</span><span class="token punctuation">,</span><br>  desktop<span class="token operator">:</span> <span class="token string">'2560px'</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> device <span class="token operator">=</span> <span class="token punctuation">{</span><br>  mobileS<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(min-width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>size<span class="token punctuation">.</span>mobileS<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><br>  mobileM<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(min-width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>size<span class="token punctuation">.</span>mobileM<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><br>  mobileL<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(min-width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>size<span class="token punctuation">.</span>mobileL<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><br>  tablet<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(min-width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>size<span class="token punctuation">.</span>tablet<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><br>  laptop<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(min-width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>size<span class="token punctuation">.</span>laptop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><br>  laptopL<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(min-width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>size<span class="token punctuation">.</span>laptopL<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><br>  desktop<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(min-width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>size<span class="token punctuation">.</span>desktop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><br>  desktopL<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(min-width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>size<span class="token punctuation">.</span>desktop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Div <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  color: white;<br>  background-color: red;<br><br>  &:hover {<br>    background-color: black;<br>  }<br><br>  @media </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>device<span class="token punctuation">.</span>mobileS<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> {<br>    color: green;<br>  }<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">HelloMediaComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">Div</span></span><span class="token punctuation">></span></span><span class="token plain-text">Hello Media!</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">Div</span></span><span class="token punctuation">></span></span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></div>
<p>Мы создали говорящие за себя константы со списками разрешений экранов и определили под них устройства. Они могут быть экспортированы из любого места в проекте и, соответственно, использованы где угодно. Теперь вы знаете достаточно чтобы начать применять SC в реальных проектах.</p>
<h3 id="kompoziciya">Композиция<a href="#kompoziciya" class="permalink">#</a></h3>
<p>«Подожди, дядя, – скажете вы. – У нас тут в CSS есть композиция классов, а с SCSS это вообще в культ возведено и композицию классов мы определяем вложенностью. Амперсанд наше всё!», – и будете правы в своём вопросе. Но, кажется, вы забыли, что цель CSS-in-JS в итоге – создать всё те же классы. И вот здесь, внезапно, композиция классов на наших глазах превращается в композицию компонентов:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> icon <span class="token keyword">from</span> <span class="token string">'./icon.png'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Icon <span class="token operator">=</span> styled<span class="token punctuation">.</span>i<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  display: block;<br>  width: 16px;<br>  height: 16px;<br>  background: trasnsparent url(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>icon<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">) center/contain no-repeat;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Button <span class="token operator">=</span> styled<span class="token punctuation">.</span>button<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  background: none;<br>  border: 1px cyan solid;<br><br>  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Icon<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> {<br>    display: inline-block;<br>    width: 12px;<br>    height: 12px;<br>  }<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>
<p>Можете прийти в <a href="https://t.me/htmlshitchat" rel="noopener noreferrer">@htmlshitchat</a> и рассказать мне про использование тега i для иконки, но... суть в том, что мы получили такую желанную и привычную композицию классов, да ещё и в виде всеми любимой вложенности. Родительский селектор тоже работает как надо:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span>Menu<span class="token punctuation">}</span> <span class="token keyword">from</span> ‘<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>Menu’<span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span>Dropdown<span class="token punctuation">}</span> <span class="token keyword">from</span> ‘<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>Dropdown’<span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Button <span class="token operator">=</span> styled<span class="token punctuation">.</span>button<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  border: 1px solid darkgreen;<br>  background: darkkhaki;<br><br>  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Menu<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> & {<br>    border: none;<br>    background: transparent;<br>  }<br><br>  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Dropdown<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> & {<br>    text-indent: -9999px;<br><br>    &::after {<br>      // create some arrow maybe<br>    }<br>}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>
<p>Что произошло? Мы использовали родительский селектор (в нашем случае компонент, Button) и заставили его выглядеть иначе при использовании внутри компонентов Menu и Dropdown. Вот так вот просто.</p>
<p>Вот только я сразу хочу предупредить, что так пишут довольно редко: это нарушает принцип единственной ответственности (насколько он вообще применим для компонентов). Гораздо чаще делают следующее:</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">'@/ui/Icon'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> ButtonIcon <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>Icon<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  display: inline-block;<br>  width: 12px;<br>  height: 12px;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>
<p>То есть мы просто передаём в styled ваш компонент в качестве аргумента и получаем теговый шаблон, который генерирует новый класс на основе уже существующего класса, принадлежащего стилизуемому элементу, и новых передаваемых стилей. <em>Магическим</em> образом рождается новый компонент. Мне кажется, на этом месте у самых внимательных должна щёлкнуть в голове весьма очевидная идея: «Раз Styled Components заведует классами, можно ли подмешать их к обычным компонентам?».</p>
<p>И ответ – да!</p>
<p>До тех пор пока ваши компоненты могут принимать класс (className) через переданные свойства (props) – SC может собрать композицию! В таком случае я придерживаюсь именования из документации: добавляю префикс <code>Styled</code> к имени компонента. Это позволяет избежать любых неоднозначностей и сложностей в именовании.</p>
<p>Следующий пример взят из <a href="https://styled-components.com/docs/basics#styling-any-component" rel="noopener noreferrer">документации</a> с изменениями. Я вообще крайне рекомендую её прочесть, если владеете английским. Интерактивные примеры там – шик, пройдите и попробуйте.</p>
<div class="code-wrapper"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> <span class="token function-variable function">Link</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> className<span class="token punctuation">,</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>className<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>    </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text"><br>  </span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span>a</span><span class="token punctuation">></span></span><br><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> StyledLink <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>Link<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  color: palevioletred;<br>  font-weight: bold;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> Styled2Link <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>StyledLink<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>  color: red;<br></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>div</span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">Link</span></span><span class="token punctuation">></span></span><span class="token plain-text">Unstyled, boring Link</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">Link</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token tag"><span class="token tag"><span class="token punctuation"><</span>br</span> <span class="token punctuation">/></span></span><span class="token plain-text"><br>      </span><span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">StyledLink</span></span><span class="token punctuation">></span></span><span class="token plain-text">Styled, exciting Link</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">StyledLink</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token tag"><span class="token tag"><span class="token punctuation"><</span>br</span> <span class="token punctuation">/></span></span><span class="token plain-text"><br>      </span><span class="token tag"><span class="token tag"><span class="token punctuation"><</span><span class="token class-name">Styled2Link</span></span><span class="token punctuation">></span></span><span class="token plain-text">Styled, exciting Link 2</span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span><span class="token class-name">Styled2Link</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span>div</span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></div>
<p>И вот теперь обратите внимание. Помните я сказал, что Styled Components из коробки не умеет объединять ваши CSS-правила? Так вот в данном примере вы, фактически, объединили их сами. Как и в классическом подходе:</p>
<p></p><figure class="figure"><img src="/images/classes.png" alt="Генерация классов" loading="lazy"><figcaption><small>Генерация классов</small></figcaption></figure><p></p>
<h3 id="magiya">Магия<a href="#magiya" class="permalink">#</a></h3>
<p>Напоследок немного обещанной магии. Возьмём популярный фреймворк <a href="https://material-ui.com/" rel="noopener noreferrer">Material UI</a> и <a href="https://codepen.io/alinaki/pen/xxRvvZe" rel="noopener noreferrer">обратим его на свою сторону</a>. Компоненты MUI принимают классы? Значит, принимают и правила SC.</p>
<p data-height="256" data-theme-id="dark" data-slug-hash="xxRvvZe" data-default-tab="result" data-user="Captain Anonymous" data-embed-version="2" data-pen-title="Unknown Pen" data-preview="true" data-editable="false" class="codepen" style="height: 256px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">See the Pen <a href="https://codepen.io/Captain Anonymous/pen/xxRvvZe/" rel="noopener noreferrer">Unknown Pen</a> on <a href="https://codepen.io" rel="noopener noreferrer">CodePen</a>.</p>
<p>Есть только одна хитрая проблема. Вы же не забыли, что правила CSS применяются по-порядку? Нам нужно быть уверенными, что стили SC загрузятся <strong>после</strong> стилей JSS (который применяется в MUI по-умолчанию). Вот для этого и нужен провайдер контекста стилей <code>StylesProvider</code>. Он гарантирует, что правила JSS будут загружены первыми. А SC, соответственно, уже после них. Ну ещё есть хак с &&. Догадайтесь уже сами, что он сделает.</p>
<h2 id="polezno-i-poznavatelno">Полезно и познавательно<a href="#polezno-i-poznavatelno" class="permalink">#</a></h2>
<p>На этом наш краткий экскурс в Styled Components закончен. В следующих статьях я разберу установку, работу с анимациями, темами и Typescript. А пока рекомендую ознакомиться со следующими ресурсами:</p>
<ul>
<li><a href="https://styled-components.com/" rel="noopener noreferrer">https://styled-components.com/</a></li>
<li><a href="https://emotion.sh/" rel="noopener noreferrer">https://emotion.sh/</a></li>
<li><a href="https://compiledcssinjs.com/" rel="noopener noreferrer">https://compiledcssinjs.com/</a></li>
<li><a href="https://linaria.dev/" rel="noopener noreferrer">https://linaria.dev/</a></li>
<li><a href="https://www.joshwcomeau.com/css/styled-components/" rel="noopener noreferrer">https://www.joshwcomeau.com/css/styled-components/</a></li>
<li><a href="https://medium.com/swlh/creating-react-styled-components-with-dynamic-tags-and-props-ef965c839e64" rel="noopener noreferrer">https://medium.com/swlh/creating-react-styled-components-with-dynamic-tags-and-props-ef965c839e64</a></li>
<li><a href="https://www.reddit.com/r/reactjs/comments/l4o5k5/the_styledcomponents_happy_path/" rel="noopener noreferrer">https://www.reddit.com/r/reactjs/comments/l4o5k5/the_styledcomponents_happy_path/</a></li>
<li><a href="https://jsramblings.com/how-to-use-media-queries-with-styled-components/" rel="noopener noreferrer">https://jsramblings.com/how-to-use-media-queries-with-styled-components/</a></li>
<li><a href="https://mxstbr.blog/2016/11/styled-components-magic-explained/" rel="noopener noreferrer">https://mxstbr.blog/2016/11/styled-components-magic-explained/</a></li>
</ul>

    </article>

    
      <ul style="all: unset; display: flex; list-style: none; flex-wrap: wrap">
      
        <li style="margin-right: 16px"><a href="/blog/tag/css/">#css</a></li>
      
        <li style="margin-right: 16px"><a href="/blog/tag/cssinjs/">#cssinjs</a></li>
      
        <li style="margin-right: 16px"><a href="/blog/tag/react/">#react</a></li>
      
        <li style="margin-right: 16px"><a href="/blog/tag/styledcomponents/">#styledcomponents</a></li>
      
        <li style="margin-right: 16px"><a href="/blog/tag/emotion/">#emotion</a></li>
      
        <li style="margin-right: 16px"><a href="/blog/tag/linaria/">#linaria</a></li>
      
      </ul>
    

    <hr>

    
    
    
  <nav>
    
      <a href="/blog/css-in-js-intro/">
        <b>туда</b>
        <br>
        <small>CSS-in-JS. Начало</small>
      </a>
    
    
  </nav>


    <footer>
    <a href="https://t.me/htmlshit" target="_blank" rel="noopener noreferrer">Канал</a>
    <a href="https://t.me/htmlshitchat" target="_blank" rel="noopener noreferrer">Чат</a>
    <a href="https://twitter.com/htmlshit" target="_blank" rel="noopener noreferrer">Twitter</a>
    <a href="https://twitter.com/bekharsky" target="_blank" rel="noopener noreferrer">Автор</a>
</footer>

  </main>

    <script>
      document.documentElement.dataset.theme = localStorage.getItem('theme') || 'auto';
    </script>
    <script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>
  

</body></html>