(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();class ${constructor(){return this.moves=[],this.moves=[],this}moveTo(e,r){return this.moves.push(`M ${e} ${r}`),this}closePath(){return this.moves.push("Z"),this}lineTo(e,r){return this.moves.push(`L ${e} ${r}`),this}horizontalLineTo(e){return this.moves.push(`H ${e}`),this}verticalLineTo(e){return this.moves.push(`V ${e}`),this}curveTo(e,r,n,t,o,a){return this.moves.push(`C ${e} ${r} ${n} ${t} ${o} ${a}`),this}smoothCurveTo(e,r,n,t){return this.moves.push(`S ${e} ${r} ${n} ${t}`),this}quadraticCurveTo(e,r,n,t){return this.moves.push(`Q ${e} ${r} ${n} ${t}`),this}smoothQuadraticCurveTo(e,r){return this.moves.push(`T ${e} ${r}`),this}arc(e,r,n,t,o,a,f){const p=t?1:0,v=o?1:0;return this.moves.push(`A ${e} ${r} ${n} ${p} ${v} ${a} ${f}`),this}catmullRomCurveTo(e,r,n,t){return this.moves.push(`R ${e} ${r} ${n} ${t}`),this}toString(){return this.moves.join(" ")}}const m=document.querySelector(".stats"),l=document.querySelector(".clear"),c=document.querySelector("video"),i=document.querySelector("svg"),h=document.querySelector("svg path");function w(){return Object.entries(window.localStorage).filter(([s])=>s.startsWith("screen-")).map(([s,e])=>[s,JSON.parse(e)])}function g(){return Object.keys(window.localStorage).filter(e=>e.startsWith("screen-")).map(e=>parseInt(e.replace("screen-",""))).sort((e,r)=>e-r).at(-1)+1||1}const d=`screen-${g()}`;function y(){const s={screenX:window.screenX,screenY:window.screenY,screenWidth:window.screen.availWidth,screenHeight:window.screen.availHeight,width:window.outerWidth,height:window.innerHeight,updated:Date.now()};window.localStorage.setItem(d,JSON.stringify(s))}function S(){if(!m)return;const s=Object.fromEntries(w());m.innerHTML=JSON.stringify(s,null," ")}function b(){console.log(u),u.forEach(s=>window.clearInterval(s)),window.localStorage.clear(),setTimeout(()=>window.location.reload(),Math.random()*1e3)}function O(){console.log(`removing screen ${d}`),localStorage.removeItem(d)}function T(){const s=w();for(const[e,r]of s)Date.now()-r.updated>1e3&&localStorage.removeItem(e)}function x(){const s=new $;i==null||i.setAttribute("viewBox",`0 0 ${window.screen.availWidth} ${window.screen.availHeight}`),i==null||i.setAttribute("width",`${window.screen.availWidth}px`),i==null||i.setAttribute("height",`${window.screen.availHeight}px`),i==null||i.setAttribute("style",`transform: translate(-${window.screenX}px, -${window.screenY}px)`),c==null||c.setAttribute("style",`transform: translate(-${window.screenX}px, -${window.screenY}px)`),w().map(([r,n])=>{const t=n.screenX+n.width/2,o=n.screenY+n.height/2;return[r,{...n,x:t,y:o}]}).forEach(([r,n],t)=>{t===0?s.moveTo(n.x,n.y):s.lineTo(n.x,n.y)}),s.closePath(),h==null||h.setAttribute("d",s.toString())}const u=[];function I(){u.push(setInterval(y,10)),u.push(setInterval(S,10)),u.push(setInterval(T,100)),u.push(setInterval(x,10))}l==null||l.addEventListener("click",b);window.addEventListener("beforeunload",O);function L(){navigator.mediaDevices.getUserMedia({video:!0}).then(s=>{c&&(c.width=window.screen.availWidth,c.height=window.screen.availHeight,c.srcObject=s,c.play())})}I();L();
